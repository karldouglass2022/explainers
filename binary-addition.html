<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Binary Addition ‚Äì 8-bit Explainer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="binary-addition.css" />
</head>
<body>
  <div class="page">
    <header>
      <div class="header-inner">
        <div class="brand-block">
          <div class="brand-logo-pill">
            <img src="logo.png" alt="Computing logo" class="brand-logo" />
          </div>
          <div class="brand-text">
            DELTA Academies Trust
            <span>GCSE Computer Science ‚Äì Binary</span>
          </div>
        </div>

        <!-- Shared nav bar -->
        <nav class="main-nav">
          <a href="index.html" class="nav-home">Home</a>
          <a href="binary-addition.html" class="nav-addition active">Binary addition</a>
          <a href="denary-binary-hex.html" class="nav-conversion">Denary / Binary / Hex</a>
          <a href="binary-shift.html" class="nav-shift">Binary shifts</a>
        </nav>
      </div>
    </header>

    <main>
      <!-- Your existing binary addition app-shell goes here -->
      <!-- <div class="app-shell"> ... </div> -->
	  <div class="app-shell">
        <!-- LEFT: controls + visual -->
        <section aria-label="Binary input and visualisation">
          <h2>1. Choose two decimal numbers (0‚Äì255)</h2>
          <div class="controls">
            <div class="controls-grid">
              <div>
                <label for="inputA">Number A (decimal)</label>
                <input id="inputA" type="number" min="0" max="255" value="25" />
                <div class="small-note">Automatically converted to 8-bit binary.</div>
              </div>
              <div>
                <label for="inputB">Number B (decimal)</label>
                <input id="inputB" type="number" min="0" max="255" value="73" />
                <div class="small-note">Try examples that cause an overflow &gt; 255.</div>
              </div>
            </div>
            <div class="button-row">
              <button type="button" class="btn-primary" id="btnStart">
                ‚ñ∂ Start / reset
              </button>
              <button type="button" class="btn-secondary" id="btnRandom">
                üé≤ Random pair
              </button>
              <button type="button" class="btn-ghost" id="btnOverflowExample">
                ‚ö† Overflow example
              </button>
            </div>
          </div>

          <h2>2. Watch the binary addition happen</h2>
          <div class="binary-display" aria-label="8-bit binary addition working">

            <!-- A row -->
            <div class="binary-row">
              <div class="row-label">A</div>
              <div class="bits" id="rowA"></div>
            </div>

            <!-- B row -->
            <div class="binary-row">
              <div class="row-label">B</div>
              <div class="bits" id="rowB"></div>
            </div>

            <!-- Sum row with OVF bit + lines above/below 8 bits -->
            <div class="binary-row sum-row">
              <div class="row-label">
                SUM
                <span id="overflowPill" class="overflow-pill" style="display:none;">
                  <span>!</span>
                </span>
              </div>

              <div class="sum-bits-area">
                <div class="overflow-bit-cell" id="overflowBitCell">
                  <span class="overflow-bit-value"></span>
                  <span class="overflow-bit-label">OVF</span>
                </div>

                <div class="bits-and-lines">
                  <div class="sum-line"></div>
                  <div class="bits" id="rowResult"></div>
                  <div class="sum-line"></div>
                </div>
              </div>
            </div>

            <!-- Carry row directly under the sum -->
            <div class="binary-row">
              <div class="row-label">Carry</div>
              <div class="carry-row" id="carryRow" aria-hidden="true"></div>
            </div>

          </div>

<div class="button-row" style="margin-top:0.8rem;">
  <button type="button" class="btn-primary" id="btnNextStep">
    ‚ûú Next bit
  </button>
  <button type="button" class="btn-secondary" id="btnAutoPlay">
    ‚ñ∂ Auto play
  </button>
  <button type="button" class="btn-ghost" id="btnPause">
    ‚è∏ Pause
  </button>
  <button type="button" class="btn-ghost" id="btnInlineReset">
    üîÑ Reset
  </button>
</div>

        </section>

        <!-- RIGHT: explanation -->
        <section aria-label="Explanation of current step">
          <h2>3. Explanation of each step</h2>
          <div class="explanation-card">
            <div class="step-header">
              <div class="step-index" id="stepIndexLabel">
                Ready to start. We always add from the <strong>right-most bit</strong> (least significant bit).
              </div>
              <div class="teacher-toggle">
                <label class="toggle-label">
                  <input type="checkbox" id="teacherModeToggle" />
                  <span class="toggle-pill">
                    <span class="toggle-thumb"></span>
                  </span>
                  <span class="toggle-text">Teacher mode</span>
                </label>
              </div>
            </div>
            <div class="explanation-main" id="explanationMain">
              Enter two decimal numbers on the left and press
              <strong>‚ÄúStart / reset walkthrough‚Äù</strong>. Then use
              <strong>‚ÄúNext bit‚Äù</strong> to step through the 8-bit addition, including any carries.
            </div>

            <div class="summary-panel" id="summaryPanel">
              <div>Decimal: <strong id="summaryDecimal">25 + 73 = 98</strong></div>
              <div>Binary: <strong id="summaryBinary">00011001 + 01001001 = 01100010</strong></div>
              <div id="summaryOverflow">Overflow: <strong>No ‚Äì result fits in 8 bits.</strong></div>
            </div>

            <!-- GCSE-style working panel, shown in Teacher mode -->
            <div class="working-panel" id="workingPanel">
              <div class="working-title">Working by column (teacher view)</div>
              <div class="working-table" id="workingTable">
                <!-- rows added dynamically -->
              </div>
              <div class="working-note">
                Each row shows the full working for one bit position, like GCSE mark schemes.
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>

    <footer>
      This demo adds 8-bit numbers only (0‚Äì255). Values above 255 cause an overflow and need more than 8 bits.
    </footer>
  </div>

  <script src="binary-addition.js" defer></script>
</body>
</html>
